import material/material;

export {
	Fabric ::= BLet, BCapture, BSelect, BContainer, BTable, BMaterial, BGetEnv;

	BLet(name : string, value : flow, scope : Fabric);
	BCapture(name : string, value : flow, scope : Fabric);
	BSelect(names : [string], fn : (FabricEnv, values : [flow]) -> Fabric);
	BContainer(items : [Fabric], style : BContainerStyle);
		BContainerStyle(downwards : bool, group : bool, baseline : bool);
		defBContainer() -> BContainerStyle;
	BTable(rows : [[Fabric]]);
		// BTableStyle();
	BMaterial(material : Material);

	BGetEnv(fn : (FabricEnv) -> Fabric);

	// Environment stuff
	FabricEnv(parent : Maybe<FabricEnv>, values : ref Tree<string, DynamicBehaviour<flow>>);
}

defBContainer() -> BContainerStyle {
	BContainerStyle(true, false, false)
}
