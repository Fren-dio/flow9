import material/material_ui;

main() {
	manager = makeMaterialManager([]);
	setRendererType("html");


	content = \contentId -> {
		checked = make(false);
		focused = make(false);
		// fpprint("content " + i2s(contentId) + ". checked")(checked);
		// fpprint("content " + i2s(contentId) + ". focused")(focused);
		MLines([
			MText("Flow header text", []),
			MTextInput(make("I am text input"), [], [TTextInputFocus(focused)]),
			MTextButton("BUTTON", \ -> println("click from " + i2s(contentId)), [], [MShortcut("q")]),
			MCheckBox(MText("Checkbox", []), checked, []),
			MTooltip(
				MText("Text", []),
				MText("Tooltip text", []),
				[]
			)
		])
		|> (\m -> MGroup2(
			MFrame(0., 0., [MStroke(MBlue(500))], TFillXY()),
			MBorder4(8., m)
		))
		|> (\m -> MInteractive([
			makeTKey(\ke -> {
				println(ke);
				true;
			})
		], m))
		;
	}

	mrenderTo(manager, false, content(1), "flow_root");

	timer(5000, \ -> {
		println("Add new root");
		mrenderTo(manager, false, content(2), "flow_root_2") |> ignore;
	});
}