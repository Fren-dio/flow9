import material/material2tropic;
import material/material_dialog;

main() {
	manager = makeMaterialManager([]);
	setRendererType("html");

	isArabic = make(false);

	text = "SOME PRETTY LONG TEST TEXT TO TEST ELLIPSIS";

	texts =
		MLinesA([
			MEllipsisText(text, []),
			
			MEllipsisText(text, [
				CenterAlign()
			]),

			MEllipsisText(text, [
				RightAlign()
			]),

			MEllipsisText(text, [
				MFullWidth()
			]),
		]);

	dialog2Content =
		MLines2A(
			MText("long long long long long long long long long long long long long long long long text", []),
			MEllipsisText(text, [RightAlign()])
		);

	dialog3Content =
		MEllipsisText(text, [RightAlign()]);

	content =
		MLinesA([
			texts,
			MTextButton("SHOW DIALOG 1", \ -> ShowMDialog(manager, make(false), [MDialogUseFrame(), MDialogClickOutToClose()], texts), [], []),
			MTextButton("SHOW DIALOG 2", \ -> ShowMDialog(manager, make(false), [MDialogUseFrame(), MDialogClickOutToClose()], dialog2Content), [], []),
			MTextButton("SHOW DIALOG 3", \ -> ShowMDialog(manager, make(false), [MDialogUseFrame(), MDialogClickOutToClose()], dialog3Content), [], []),
			MConstruct([
					makeSubscribe2(isArabic, \ar -> setLang(if (ar) "ar" else "en"))
				],
				MSwitchControl(isArabic, [MOnOffText("RTL", "LTR")])
			)
		]);
	
	mrender(manager, true, content);
}
