import formats/wasm/wasm_encode;

import sys/system;

main() {
	module = WasmModule(
		[], [
			WasmTypeSection([WasmFuncType([], [WasmI32Type()])])
		], // types
		[], [], // imports
		[], [], // functions
		[], [], // tables
		[], [], // memories
		[], [], // globals
		[], [], // exports
		[], [], // starts
		[], [], // elements
		[], [], // datacounts
		[], [], // codes
		[], [], // data
		[]
	);

	bytes = wasmModule2bytes(module);
	
	setFileContentBytes("test.wasm", 
		fold(bytes, "", \acc, byte -> {
			acc + fromCharCode(byte)
		})
	);
	quit(0);
}
