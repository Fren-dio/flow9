import tools/dsl/dynjoin/grammar;
import tools/dsl/dsl_eval;
import tools/dsl/dsl_runtime_common;

main() {
	grammar = defineDynJoin();
	program = parseProgram("test", grammar,
		<< "Hello world" >>,
	);

	env0 = makeDslEnv();
	env = DslEnv(env0 with globals = addCommonDslRuntime([], env0.globals));

	value = evaluateDsl(env, program);
	println(prettyDsl(value));
	quit(0);
}
