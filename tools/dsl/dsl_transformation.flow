import tools/dsl/dsl_ast;

export {
	DslTransformation(kind : string, fromLanguage : string, toLanguage : string, fn : DslTransformationFn);

	DslTransformationFn ::= DslTransformParse, DslTransformLower, DslTransformRewrite;

		// A parser or extension written in this variant of grammar
		DslTransformParse(parserLanguage : string, grammar : string);

		// A lowering from a given language to another
		// The runtime should be code that has to be added for the lowered program to work
		DslTransformLower(fromSyntax : string, toLanguage : string, rules : string, runtime : string);

		// E-graph rewriting
		DslTransformRewrite(fromSyntax : string, toLanguage : string, rules : string, costs : string, default : string, runtime : string);
}
